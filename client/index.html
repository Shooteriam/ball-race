<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#6366f1">
    <meta name="description" content="–ú–Ω–æ–≥–æ–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è –≥–æ–Ω–∫–∞ —à–∞—Ä–∏–∫–æ–≤ –≤ Telegram">
    <title>Ball Race - Telegram Mini App</title>

    <!-- Modern Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&family=JetBrains+Mono:wght@400;700&display=swap"
        rel="stylesheet">

    <!-- Styles -->
    <link rel="stylesheet" href="css/styles.css">

    <!-- Scripts -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://cdn.socket.io/4.7.4/socket.io.min.js"></script>
</head>

<body>
    <div class="container">
        <!-- Main Game Screen - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –µ–¥–∏–Ω—ã–π –¥–∏–∑–∞–π–Ω -->
        <div id="mainScreen" class="screen active">
            <div class="header">
                <h1><span class="emoji">üéÆ</span> <span class="text-gradient">Ball Race</span></h1>
                <p>–ú–Ω–æ–≥–æ–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è –≥–æ–Ω–∫–∞ —à–∞—Ä–∏–∫–æ–≤</p>
            </div>

            <!-- –¢–∞–π–º–µ—Ä –¥–æ —Å–ª–µ–¥—É—é—â–µ–π –∏–≥—Ä—ã -->
            <div class="card timer-card">
                <h3>‚è∞ –î–æ —Å–ª–µ–¥—É—é—â–µ–π –∏–≥—Ä—ã</h3>
                <div id="gameTimer" class="timer">00:00</div>
            </div>

            <!-- –ü–æ–∫—É–ø–∫–∞ —à–∞—Ä–∏–∫–æ–≤ -->
            <div class="card purchase-section">
                <div class="purchase-card">
                    <h3>üé± –ü–æ–∫—É–ø–∫–∞ —à–∞—Ä–∏–∫–æ–≤</h3>
                    <div class="ball-selector">
                        <label for="ballCount">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —à–∞—Ä–∏–∫–æ–≤:</label>
                        <input type="range" id="ballCount" min="1" max="50" value="10">
                        <span id="ballCountDisplay">10</span>
                    </div>
                    <p class="cost">üíé –°—Ç–æ–∏–º–æ—Å—Ç—å: 50 ‚≠ê Telegram Stars</p>
                    <button id="buyBallsBtn" class="btn btn-primary">
                        ‚ú® –ö—É–ø–∏—Ç—å —à–∞—Ä–∏–∫–∏
                    </button>
                    <div class="player-balls">
                        <span>–í–∞—à–∏ —à–∞—Ä–∏–∫–∏: <strong id="playerBallCount">0</strong> üé±</span>
                    </div>
                </div>
            </div>

            <!-- –õ–æ–±–±–∏ –∏–≥—Ä–æ–∫–æ–≤ -->
            <div class="card lobby-section">
                <div class="lobby-card">
                    <h3>üèÅ –õ–æ–±–±–∏ –∏–≥—Ä–æ–∫–æ–≤ (<span id="playerCount">0</span>/20)</h3>
                    <div id="playerList" class="player-list">
                        <div class="empty-lobby">
                            <p>üë• –û–∂–∏–¥–∞–Ω–∏–µ –∏–≥—Ä–æ–∫–æ–≤...</p>
                            <p>–ö—É–ø–∏—Ç–µ —à–∞—Ä–∏–∫–∏, —á—Ç–æ–±—ã –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è –∫ –∏–≥—Ä–µ!</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- –ü—Ä–∞–≤–∏–ª–∞ –∏–≥—Ä—ã -->
            <div class="card rules-section">
                <div class="info-card">
                    <h3>üìã –ü—Ä–∞–≤–∏–ª–∞ –∏–≥—Ä—ã</h3>
                    <p>‚è±Ô∏è –ò–≥—Ä—ã –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç</p>
                    <p>üéØ –ú–∞–∫—Å–∏–º—É–º 50 —à–∞—Ä–∏–∫–æ–≤ –Ω–∞ –∏–≥—Ä–æ–∫–∞</p>
                    <p>üèÜ –ü–æ–±–µ–∂–¥–∞–µ—Ç —Å–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π —à–∞—Ä–∏–∫</p>
                    <p>üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å —É—á–∞—Å—Ç–∏—è: 50 ‚≠ê Telegram Stars</p>
                </div>
            </div>
        </div>

        <!-- Game Screen -->
        <div id="gameScreen" class="screen">
            <div class="game-header">
                <div class="game-status">
                    <span id="gameStatus">–ò–≥—Ä–∞ –∏–¥–µ—Ç...</span>
                    <span id="gameTime">00:00</span>
                </div>
                <div class="player-stats">
                    <span id="totalBalls">–í—Å–µ–≥–æ —à–∞—Ä–∏–∫–æ–≤: 0</span>
                </div>
            </div>

            <div class="game-canvas-container">
                <canvas id="gameCanvas" width="400" height="600"></canvas>
            </div>

            <div class="game-controls">
                <button id="spectateBtn" class="btn secondary">–†–µ–∂–∏–º –Ω–∞–±–ª—é–¥–µ–Ω–∏—è</button>
                <button id="backToLobbyBtn" class="btn danger">–í –ª–æ–±–±–∏</button>
            </div>
        </div>

        <!-- Results Screen -->
        <div id="resultsScreen" class="screen">
            <div class="results-header">
                <h2>üèÜ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–≥—Ä—ã</h2>
            </div>

            <div class="results-content">
                <div id="winnerCard" class="winner-card">
                    <h3>ü•á –ü–æ–±–µ–¥–∏—Ç–µ–ª—å</h3>
                    <div id="winnerInfo"></div>
                </div>

                <div class="results-list">
                    <h3>üìä –í—Å–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã</h3>
                    <div id="resultsList"></div>
                </div>

                <div class="results-actions">
                    <button id="newGameBtn" class="btn btn-primary">
                        üîÑ –ù–æ–≤–∞—è –∏–≥—Ä–∞
                    </button>
                    <button id="backToMainBtn" class="btn btn-secondary">
                        üè† –ù–∞ –≥–ª–∞–≤–Ω—É—é
                    </button>
                </div>
            </div>
        </div>

        <!-- Notifications -->
        <div id="notifications" class="notifications"></div>
    </div>

    <script src="js/app.js"></script>
</body>

</html>